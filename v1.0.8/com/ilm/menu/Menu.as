package com.ilm.menu{	import flash.display.Sprite;	import flash.events.Event;	import com.ilm.menu.engine.BaseMenu;	import com.ilm.menu.content.MainPage;	import com.ilm.menu.content.CreditsPage;	import com.ilm.menu.engine.MenuEvent;		public class Menu extends Sprite	{		private var currentPage:String;				private var _main:MainPage;		private var _credits:CreditsPage;				private var mainClass:Main;		public function Menu(passedClass:Main, page:String):void		{			mainClass = passedClass;			currentPage = page;			this.addEventListener(Event.ADDED_TO_STAGE, init);		}		private function init(event:Event):void		{			this["open" + [currentPage]]();		}		public function openMainPage():void		{			this.currentPage = "MainPage";			_main = new MainPage(this);			_credits = removeClip(_credits);			this.addChild(_main);		}		public function openCreditsPage():void		{			this.currentPage = "CreditsPage";			_credits = new CreditsPage(this);			_main = removeClip(_main);			this.addChild(_credits);		}		public function callPlayGame(event:MenuEvent):void		{			mainClass.openGame();		}		private function removeClip(clip:*)		{			if (clip) {				clip.addEventListener(MenuEvent.MENU_CLOSED, function(event:MenuEvent) {menuClosed(clip);});			}			return null;		}		private function menuClosed(clip:*):void		{			if (clip) {				this.removeChild(clip);			}		}	}}